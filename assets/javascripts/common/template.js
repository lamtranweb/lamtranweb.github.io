define(["handlebars"],function(e){var t=/{{!<\s+([A-Za-z0-9\._\-\/]+)\s*}}/;e.loadPartial=function(t){var n=e.partials[t];return typeof n=="string"&&(n=e.compile(n),e.partials[t]=n),n},e.registerHelper("block",function(t,n){var r=e.loadPartial(t)||n.fn;return r?r(this,{data:n.hash}):""}),e.registerHelper("contentFor",function(t,n){e.registerPartial(t,n.fn),this["__"+t]=!0}),e.registerHelper("json",function(e){return JSON.stringify(e)});var n=function(e){var t=document.createDocumentFragment(),n=document.createElement("div");n.innerHTML=e;while(n.childNodes[0])t.appendChild(n.childNodes[0]);return t},r={load:function(e,t,n,r){var s;if(!r.isBuild){var o=r.template&&r.template.templatesDir?r.template.templatesDir:"";if(e.indexOf(":")!==-1){var u=e.split(":");s=u[1],e=u[0]}var a;e.indexOf(".hbs")===-1?a=o+e+".hbs":a=e,t(["text!"+a],function(e){i(e,t,r,s).then(function(e){n(e)})})}else n()}},i=function(r,i,s,o){var u=new Promise(function(u){var a=e.compile(r),f=r.match(t);if(f){var l=s.template?s.template.layoutDir:"",c;o?c=l+o+"."+"hbs":c=l+f[1]+"."+"hbs",i(["text!"+c],function(t){var r=e.compile(t);u(function(e){var t=a(e);e.body=t;var i=r(e);return n(i)})})}else u(function(e){return n(a(e))})});return u};return r});